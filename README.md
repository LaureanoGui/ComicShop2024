[1 - Para testar o código, crie o Database disponibilizado abaixo]
[2 - Em seguida, altere no arquivo ConfigBanco.txt para a porta e senha do seu banco (Ex: Server=localhost;Port=3306;DataBase=ComicShop;Uid=root;Pwd=1234)] 
[3 - No Diretório ComicShop/Infra altere o local de arquivo no arquivo ConfigureDI.cs (Ex: var strCon = File.ReadAllText("D:\\ComicShop\\ComicShop\\Config\\ConfigBanco.txt")];
[4 - Por fim, basta rodar o ComicShop.App no Visual Studio. Caso ocorra algum erro, verifique as etapas acima novamente]*

-- MySQL Script generated by MySQL Workbench
-- Mon Dec 16 19:20:34 2024
-- Model: New Model    Version: 1.0
-- MySQL Workbench Forward Engineering

SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0;
SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0;
SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION';

-- -----------------------------------------------------
-- Schema ComicShop
-- -----------------------------------------------------
DROP SCHEMA IF EXISTS `ComicShop` ;

-- -----------------------------------------------------
-- Schema ComicShop
-- -----------------------------------------------------
CREATE SCHEMA IF NOT EXISTS `ComicShop` DEFAULT CHARACTER SET utf8 ;
USE `ComicShop` ;

-- -----------------------------------------------------
-- Table `ComicShop`.`Categoria`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `ComicShop`.`Categoria` ;

CREATE TABLE IF NOT EXISTS `ComicShop`.`Categoria` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `Nome` VARCHAR(50) NULL,
  `Descricao` VARCHAR(100) NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `ComicShop`.`Cliente`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `ComicShop`.`Cliente` ;

CREATE TABLE IF NOT EXISTS `ComicShop`.`Cliente` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `Nome` VARCHAR(100) NULL,
  `Email` VARCHAR(100) NULL,
  `Telefone` VARCHAR(15) NULL,
  `Endereco` VARCHAR(100) NULL,
  `DataCadastro` DATE NULL,
  `Documento` VARCHAR(45) NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `ComicShop`.`Fornecedor`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `ComicShop`.`Fornecedor` ;

CREATE TABLE IF NOT EXISTS `ComicShop`.`Fornecedor` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `Nome` VARCHAR(100) NULL,
  `Contato` VARCHAR(100) NULL,
  `Endereco` VARCHAR(100) NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `ComicShop`.`ItensPedido`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `ComicShop`.`ItensPedido` ;

CREATE TABLE IF NOT EXISTS `ComicShop`.`ItensPedido` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `Quantidade` INT NULL,
  `PrecoUnitario` DECIMAL(10,2) NULL,
  `IdPedido` INT NOT NULL,
  `IdProduto` INT NOT NULL,
  PRIMARY KEY (`id`, `IdPedido`, `IdProduto`),
  INDEX `fk_ItensPedido_Pedidos1_idx` (`IdPedido` ASC),
  INDEX `fk_ItensPedido_Produtos1_idx` (`IdProduto` ASC),
  CONSTRAINT `fk_ItensPedido_Pedidos1`
    FOREIGN KEY (`IdPedido`)
    REFERENCES `ComicShop`.`Pedido` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_ItensPedido_Produtos1`
    FOREIGN KEY (`IdProduto`)
    REFERENCES `ComicShop`.`Produto` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `ComicShop`.`Pedido`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `ComicShop`.`Pedido` ;

CREATE TABLE IF NOT EXISTS `ComicShop`.`Pedido` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `DataPedido` DATE NULL,
  `ValorTotal` DECIMAL(10,2) NULL,
  `Status` VARCHAR(50) NULL,
  `IdCliente` INT NOT NULL,
  `IdUsuario` INT NOT NULL,
  PRIMARY KEY (`id`, `IdCliente`, `IdUsuario`),
  INDEX `fk_Pedidos_Clientes1_idx` (`IdCliente` ASC),
  INDEX `fk_Pedidos_Usuario1_idx` (`IdUsuario` ASC),
  CONSTRAINT `fk_Pedidos_Clientes1`
    FOREIGN KEY (`IdCliente`)
    REFERENCES `ComicShop`.`Cliente` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_Pedidos_Usuario1`
    FOREIGN KEY (`IdUsuario`)
    REFERENCES `ComicShop`.`Usuario` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `ComicShop`.`Produto`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `ComicShop`.`Produto` ;

CREATE TABLE IF NOT EXISTS `ComicShop`.`Produto` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `Nome` VARCHAR(100) NULL,
  `Descricao` VARCHAR(200) NULL,
  `Edicao` INT NULL,
  `Preco` DECIMAL(10,2) NULL,
  `Autor` VARCHAR(100) NULL,
  `Editora` VARCHAR(100) NULL,
  `AnoPublicacao` INT NULL,
  `QuantidadeEstoque` INT NULL,
  `IdFornecedor` INT NOT NULL,
  `IdCategoria` INT NOT NULL,
  PRIMARY KEY (`id`, `IdCategoria`),
  INDEX `fk_Produtos_Fornecedores1_idx` (`IdFornecedor` ASC),
  INDEX `fk_Produtos_Categorias1_idx` (`IdCategoria` ASC),
  CONSTRAINT `fk_Produtos_Fornecedores1`
    FOREIGN KEY (`IdFornecedor`)
    REFERENCES `ComicShop`.`Fornecedor` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_Produtos_Categorias1`
    FOREIGN KEY (`IdCategoria`)
    REFERENCES `ComicShop`.`Categoria` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `ComicShop`.`Usuario`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `ComicShop`.`Usuario` ;

CREATE TABLE IF NOT EXISTS `ComicShop`.`Usuario` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `Nome` VARCHAR(100) NULL,
  `Senha` VARCHAR(45) NULL,
  `Login` VARCHAR(45) NULL,
  `Email` VARCHAR(100) NULL,
  `DataCadastro` TIMESTAMP NULL,
  `DataLogin` TIMESTAMP NULL,
  `Ativo` BOOLEAN NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB;


SET SQL_MODE=@OLD_SQL_MODE;
SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS;
SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS;



